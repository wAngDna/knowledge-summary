<!--
 * @Author: error: error: git config user.name & please set dead value or install git && error: git config user.email & please set dead value or install git & please set dead value or install git
 * @Date: 2023-11-19 18:39:58
 * @LastEditors: error: error: git config user.name & please set dead value or install git && error: git config user.email & please set dead value or install git & please set dead value or install git
 * @LastEditTime: 2023-11-19 18:39:59
 * @FilePath: /knowledge-summaryp-review/src/files/JavaScript/事件机制.md
 * @Description: 这是默认设置,请设置`customMade`, 打开koroFileHeader查看配置 进行设置: https://github.com/OBKoro1/koro1FileHeader/wiki/%E9%85%8D%E7%BD%AE
-->
#### DOM 事件

- DOM0 事件：各个厂家各自有各自的规范，没有统一规范
- DOM2 事件：各个厂家融合了，但是没有提供代码解决方案
- DOM3 事件：现在主要事件就是 DOM3 事件

```js
// dom1
btn.onclick = function (e) {
	// handle event
};

// dom3
// dom3可以给元素添加多个事件，会按照添加顺序执行，会有一个事件队列
// 三个参数， 事件类型 处理函数 是否在冒泡时执行，默认是true
btn.addEventListener("click", function (e) {}, false);

// 解绑事件绑定
// 俩个参数 事件类型  需要解绑的函数
// 其中第二个参数一定时具名函数，不能是匿名函数
btn.removeEventListener("click", fn);

// IE
// IE 只能在冒泡阶段捕获
attchEvent("click", fn);
detachEvent("click", fn);

// 兼容性处理 判断是否能够使用addEventListener  优雅降级
if (typeof btn.addEventListener === "function") {
	btn.addEventListener("click", function (e) {}, false);
} else if (typeof btn.attachEvent === "function") {
	attchEvent("click", fn);
} else {
	btn.onclick = function () {};
}

// 跨浏览器事件处理标准
```

#### 事件捕获 事件冒泡

三个阶段：

- 事件捕获：当触发元素事件后，会从 html 标签开始，往下一层层找，找到触发元素事件的元素
- 事件执行：执行当前元素触发的事件
- 事件冒泡：从触发事件元素开始往上冒泡，直到 html 元素

- stopPropagation：阻止事件冒泡

- preventDefault：阻止默认事件

- stopImmediatePropagation： 立即阻止事件冒泡

#### 浏览器请求

1. XMLHTTPRequest

用于创建一个异步的请求对象，通过监听状态吗的变化，实现后续处理

onreadystatechange：

- 0：还未创建请求
- 1：与服务器创建好连接，但是没有传输数据
- 2：请求处理中
- 3：部分请求可以接收到
- 4：success 请求成功

2. fetch

promise ajax 的实现 出现于 ES6，代替了 XMLHTTPRequest

3. axios

一个请求工具库
能够基于当前宿主环境，确定使用哪种方式发送请求
浏览器：promise 请求事项
node: require('http')
